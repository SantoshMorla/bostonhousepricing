name: Deploy Model to Vertex AI	
	on:
	 # push:
   # branches:
   #   - main
	  workflow_dipatch:
	jobs:
	  deploy:
	    runs-on: ubuntu-latest
	
	    steps:
	      - name: Checkout code
	        uses: actions/checkout@v4
	
	      - name: Build Docker image
	        run: docker build -t model-image .
	
	      - name: Log in to Google Cloud
	        uses: google-github-actions/setup-gcloud@v0.3
	        with:
	          service_account_key: ${{ secrets.GCP_SA_KEY }}
	          project_id: genuine-quasar-425514-f6
	        
	      - name: Deploy to Vertex AI
	        run: |
	          gcloud ai endpoints deploy my-model-endpoint \
	          --image-uri gcr.io/my-gcp-project/model-image:latest \
            --region us-central1  
